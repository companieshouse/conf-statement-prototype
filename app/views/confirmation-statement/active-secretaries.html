{% extends "layout.html" %}

{% block pageTitle %}
{% if errorList.length > 0 %}
  Error:
{% endif %}  Review the secretaries
{% endblock %}

{% block backLink %}
  {{ govukBackLink({
    text: "Back",
    href: "/task-list"
  }) }}
{% endblock %}

{% block content %}
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-three-quarters">

      <form action="" method="post">

      {% if errorList.length > 0 %}
      {{ govukErrorSummary({
        titleText: "There is a problem",
        errorList: [
          {
            text: "Select yes if the active secretaries are correct",
            href: "#active-secretaries"
          }
        ]
      }) }}
      {% endif %}


        <h1 class="govuk-heading-l">Check the active secretary</h1>

        <h2 class="govuk-heading-m">1 Secretary</h2>
        {% set secretaryHTML %}

        Irving, Kyrie

    {% endset %}
    {% set secretary2HTML %}
    <ul class="govuk-list govuk-list--bullet">
      <li>Fran Francis</li>
      <li>Appointed: 17 March 2012</li>
      <li>Date of birth: May 1990</li>
      <li>Correspondence address:<br>2 Nets Way<br>Newcastle<br>NE2 3BB</li>
    </ul>
    {% endset %}

    {{ govukTable({

  rows: [
    [
      {
        html: secretaryHTML
      }
    ]
  ]
}) }}
{% if scenario.company.recentFiling === 'yes' %}
    {% if activeSecretaries === 'yes' %}
      {{ govukRadios({
          classes: "govuk-radios",
          idPrefix: "active-secretaries",
          name: "active-secretaries",
          errorMessage: activeSecretariesError,
          fieldset: {
            legend: {
              html: "Is the secretary still active?",
              isPageHeading: false,
              classes: "govuk-fieldset__legend--l"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes",
              checked: true
            },
            {
              value: "no",
              text: "No"
            },
            {
              value: "yes",
              text: "No, but I've recently filed an update"
            }
          ]
        }) }}
    {% elseif activeSecretaries === 'no' %}
      {{ govukRadios({
                  classes: "govuk-radios",
                  idPrefix: "active-secretaries",
                  name: "active-secretaries",
                  errorMessage: activeSecretariesError,
                  fieldset: {
                    legend: {
                      html: "Is the secretary still active?",
                      isPageHeading: false,
                      classes: "govuk-fieldset__legend--l"
                    }
                  },
                  items: [
                    {
                      value: "yes",
                      text: "Yes"
                    },
                    {
                      value: "no",
                      text: "No",
                      checked: true
                    },
                    {
                      value: "yes",
                      text: "No, but I've recently filed an update"
                    }
                  ]
                }) }}
    {% else %}
      {{ govukRadios({
                              classes: "govuk-radios",
                              idPrefix: "active-secretaries",
                              name: "active-secretaries",
                              errorMessage: activeSecretariesError,
                              fieldset: {
                                legend: {
                                  html: "Is the secretary still active?",
                                  isPageHeading: false,
                                  classes: "govuk-fieldset__legend--l"
                                }
                              },
                              items: [
                                {
                                  value: "yes",
                                  text: "Yes"
                                },
                                {
                                  value: "no",
                                  text: "No"
                                },
                                {
                                  value: "yes",
                                  text: "No, but I've recently filed an update"
                                }
                              ]
                            }) }}
    {% endif %}
    {% else %}
    {% if activeSecretaries === 'yes' %}
      {{ govukRadios({
          classes: "govuk-radios",
          idPrefix: "active-secretaries",
          name: "active-secretaries",
          errorMessage: activeSecretariesError,
          fieldset: {
            legend: {
              html: "Is the secretary still active?",
              isPageHeading: false,
              classes: "govuk-fieldset__legend--l"
            }
          },
          items: [
            {
              value: "yes",
              text: "Yes",
              checked: true
            },
            {
              value: "no",
              text: "No"
            }
          ]
        }) }}
    {% elseif activeSecretaries === 'no' %}
      {{ govukRadios({
                  classes: "govuk-radios",
                  idPrefix: "active-secretaries",
                  name: "active-secretaries",
                  errorMessage: activeSecretariesError,
                  fieldset: {
                    legend: {
                      html: "Is the secretary still active?",
                      isPageHeading: false,
                      classes: "govuk-fieldset__legend--l"
                    }
                  },
                  items: [
                    {
                      value: "yes",
                      text: "Yes"
                    },
                    {
                      value: "no",
                      text: "No",
                      checked: true
                    }
                  ]
                }) }}
    {% else %}
      {{ govukRadios({
                              classes: "govuk-radios",
                              idPrefix: "active-secretaries",
                              name: "active-secretaries",
                              errorMessage: activeSecretariesError,
                              fieldset: {
                                legend: {
                                  html: "Is the secretary still active?",
                                  isPageHeading: false,
                                  classes: "govuk-fieldset__legend--l"
                                }
                              },
                              items: [
                                {
                                  value: "yes",
                                  text: "Yes"
                                },
                                {
                                  value: "no",
                                  text: "No"
                                }
                              ]
                            }) }}
                            {% endif %}
    {% endif %}

    {{ govukButton({
text: "Continue"
}) }}
  </form>
</div>
</div>
{% endblock %}
