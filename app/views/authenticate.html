{% extends "layouts/main.html" %}

{% block pageTitle %}
  {% if errorList.length > 0 %}
    Error:
  {% endif %}
  Company authentication
{% endblock %}
{% block beforeContent %}
  {% include "/includes/phase-banner.html" %}
  {% include "/includes/user-bar.html" %}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      {% if errorList.length > 0 %}
        {{ govukErrorSummary({
          titleText: "There is a problem",
          errorList: errorList
        }) }}
      {% endif %}
      <h1 class="govuk-heading-xl">Company authentication</h1>
      <p class="govuk-body">To file company information you will need an authentication code.</p>

      <p class="govuk-body">Authenticating for<br>

       <strong> {{ scenario.company.name }} ({{ scenario.company.number }})</strong></p>
      <form action="" method="post">
        {% if authCodeErr.flag %}
          {{ govukInput({
            label: {
              text: "Authentication code",
              classes: "govuk-!-font-weight-bold"
            },
            errorMessage: {
              text: authCodeErr.text,
              href: authCodeErr.href
            },
            id: "auth-code",
            name: "authCode",
            value: authCode,
            type: 'password',
            classes: 'govuk-input--width-20'
          }) }}
        {% else %}
          {{ govukInput({
            label: {
              text: "Authentication code",
              classes: "govuk-!-font-weight-bold"
            },
            id: "auth-code",
            name: "authCode",
            value: authCode,
            type: 'password',
            classes: 'govuk-input--width-20'
          }) }}
        {% endif %}

        {{ govukButton({
          text: "Authenticate"
        }) }}
        <p class="govuk-body">
          <a href="https://ewf.companieshouse.gov.uk/?_ga=2.259791299.813501771.1566987875-1638653194.1563432911" class="govuk-link" target="_blank">Request an authentication code</a>
        </p>
      </form>
    </div>
  </div>

{% endblock %}